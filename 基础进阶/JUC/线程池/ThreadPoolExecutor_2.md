### 1、Java中线程池中线程数量是怎样确定的？

一般来说，线程池中线程个数的大小经验值应该这样设置：其中N为CPU的个数

- 如果是CPU密集型任务，线程池大小应该设置为N+1
- 如果是IO密集型任务，线程池大小应该设置为2N+1

如果一台服务器上只部署这一个应用并且只有这一个线程池，那么这种估算或许合理，具体还需自行测试验证。

但是IO优化中，这样的估算公式可能更适合：最佳线程数目 = （（线程等待时间+线程CPU时间）/线程CPU时间 ）* CPU数目

线程等待时间所占比例越高，需要越多线程。线程CPU时间所占比例越高，需要越少线程。