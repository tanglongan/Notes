垃圾收集算法实现细节

- 根节点枚举
  - 迄今为止，所有收集器在进行根节点遍历的时候，必须暂停用户线程，必须在能保障一致性的快照中才得以执行。
  - 可达性分析的算法耗时最长的查找引用链过程已经可以与用户线程一起并发。
- 安全点
  - HotSpot里使用OopMap数据结构来记录对象引用，通过它快速准确地完成GC Roots枚举。
  - 生成OopMap的指令非常多，HotSpot也只是在“特定位置”记录引用信息，这些位置就称为安全点。
  - 安全点位置的选择基本上是以`是否具有让程序长时间执行的特征`标准进行选择的。由于每条指令执行时间非常短暂，程序不太可能因为指令流太长而执行时间太长时间执行。`长时间执行`的最明显特征就是会令序列的复用。例如`方法调用、循环跳转、异常跳转`等都属于指令复用所有具有这些功能的指令一般作为安全点。
- 安全区域
  - 当程序不执行或者说没有分配到处理器时间，典型场景就是线程Sleep或Blocked状态，这时候线程无法响应虚拟机的中断请求，不能再走到安全的地方去中断挂起自己，对于这种情况下，就必须引入`安全区域`来解决。
  - `安全区域`指能确保在某一段代码片段内引用关系不会发生变化，因此在这块区域中任意地方开始垃圾收集都是安全的。
  - 
- 记忆集和卡表
- 写屏障
- 并发的可达性分析

