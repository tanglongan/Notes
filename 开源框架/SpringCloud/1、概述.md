### 1、SpringCloud生态

SpringCloud利用SpringBoot的开发便利性，巧妙地简化了分布式系统基础设施开发，SpringCloud为开发人员提供了快速构建分布式系统的一些工具：

- 服务注册与发现
- 配置管理
- 断路器
- 路由
- 微代理
- 事件总线
- 全局锁
- 决策竞选
- 分布式会话

### 2、SpringCloud和SpringBoot的关系

- SpringBoot专注于快速方便的开发单个个体微服务
- SpringCloud是关注全局的微服务治理框架，它将SpringBoot开发的一个个单体微服务整合并管理起来，为各个服务之间提供配置管理、服务注册与发现、断路器、路由、事件总线、全局锁、决策竞选、分布式会话等集成服务功能。
- SpringBoot应用可以独立开发和运行；SpringCloud必须依赖于SpringBoot，属于依赖关系。

### 3、作为注册中心，Euraka比Zookeeper好在哪里？

著名的CAP理论，一个分布式系统不可能同时满足C（强一致性）、A（可用性）、P（分区容错性）。

由于分区容错性是分布式系统必须要保证的，因此只能在A和C之间选择：

#### 3.1、**Zookeeper保证的是CP**

当向注册中心查询服务列表时，我们可以容忍注册中心返回的是几分钟以前的注册信息，但是不能接受服务挂掉不可用。也就是说，服务注册功能对于可用性的要求比一致性要高。但是ZK会出现这样一种情况，当master节点因为网络故障与其他节点失去联系时，剩余节点会进行Leader选举。问题在于，选举leader的事件太长了，30~120s，且整个选举期间整个服务不可用，这就会导致选举期间注册服务瘫痪。在云部署唤醒下，因为网络问题使得ZK的master节点是较大概率的事件，虽然服务最终能够恢复，但是漫长的选举时间导致注册长期不可用是不能容忍的。

#### 3.2、**Eureka保证的是AP**

Eureka在设计时优先保证了可用性。Eureka各个节点是平等的。部分节点挂掉不会影响正常节点的可用性，剩余节点依然可以提供注册和查询服务。而Eureka的客户端在向某个Eureka注册时，如果注册失败会自动切换到其他节点上去，只要一个Eureka服务节点可用，就可以保证服务的可用性，只不过查询到信息可能不是最新的。除此以外，Eureka还有一种自我保护机制，如果在15分钟内超过85%的节点都没有正常心跳，那么Eureka就认为客户端与注册中心出现故障，此时就会出现以下几种情况：

1. Eureka不再从注册中心列表中移除因为长时间没有收到心跳而应该过期的服务
2. Eureka仍然能够接受新服务的注册和请求，但是不会被同步到其他节点上（即保证当前节点服务可用）
3. 当网络稳定时，当前实例新的注册信息会被同步到其他节点上

==Eureka可以很好的应对网络故障导致部分节点失去联系的情况，而不会像Zookeeper那样注册服务不可用。==





