### 1、MySQL原子性和持久性怎么保证？

原子性的实现是利用InnoDB的undo log。undo log回滚日志，是实现原子性的关键，当事务回滚时能够撤销所有已经执行成功的操作。它需要你记录要回滚的日志信息。undo log记录了这些回滚需要的信息，当事务执行失败或调用了rollback，导致事务需要回滚，便可以利用undo log中的信息将数据回滚到修改之前的样子。

比如：

- 当你delete一条数据的时候，就需要记录这条数据的信息，回滚的时候，insert这条旧数据

- 当你update一条数据的时候，就需要记录之前的旧值，回滚的时候，根据旧值执行update操作
- 当年insert一条数据的时候，就需要这条记录的主键，回滚的时候，根据主键执行delete操

持久性的实现是利用InnoDB的redo log。Mysql是先把磁盘上的数据加载到内存中，在内存中对数据进行修改，再刷回磁盘上。如果此时突然宕机，内存中的数据就会丢失。

### 2、InnoDB和MyISAM的区别

### 3、索引分类

- 主键索引
- 唯一索引
- 单值索引
- 复合索引

### 4、InnoDB的底层数据结构



### 5、为什么底层使用B+树而不是B树



------

### 1、什么是事务？事务的隔离级别有哪些？

​			事务是构成单一逻辑工作单元的操作集合

​			注意：数据库事务可以包含一个或多个数据库操作，但这些操作必须是一个逻辑整体

​							构成整体的这些操作，要么全部执行成功，要么全部失败

​							构成事务的所有操作，要么全部对数据库产生影响，要么全部不产生影响。即不管事务是否执行成功，数据库总能保持一致状态。

### 2、事务的每个隔离级别会引发哪些问题？mysql默认的是哪个级别？

 	事务的特征（ACID）

- 原子性(Atomicity)：undo log
- 一致性(Consistency)：通过原子性、隔离性以及持久性共同实现。

- 隔离性(Isolation)：通过MVCC + 锁机制实现
- 持久性(Durability)：redo log

​		 

### 3、mysql有哪些锁？

### 4、数据库崩溃时事务的恢复机制（redo日志和undo日志）？



